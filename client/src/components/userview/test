import React from 'react';
import axios from 'axios';
import { Button, ButtonToolbar } from 'react-bootstrap';
import {User} from './user';
export default class userview extends React.Component{
 
    constructor(props){
      super(props);
      this.state = {
        persons: [],
        userview:false
    }
    }
    componentDidMount(){
        axios.get(`/users`).then(res => {
        //console.log(res.data.data);    
        this.setState({persons: res.data.data});
        })
    }
    render (){
      let userviewclose = () => this.setState({userview:false})
        return(
            <div className='row' >
                {this.state.persons.map(persons => (
                  <div className="col-sm-6 col-md-4" key={persons.key}>
                    <div className="card">
                      <div className="card-body">
                        <h5 className="card-title"><strong>{persons.name}</strong></h5>
                        <p className="price">Email : {persons.email} </p>
                        <div className="text-center">
                          
                          <Button 
                          
                          variant="primary"
                          onClick = {()=> this.setState({userview:true})}
                          >VIEW</Button>
                          
                          <Button
                          onClick = {()=> this.setState({userview:true})}
                          >EDIT</Button>
                          <User
                          show={this.state.userview}
                          onHide={userviewclose}
                          />
                        </div>
                      </div>
                    </div>  
                  </div>
                ))}
              </div>
          )
    }
};